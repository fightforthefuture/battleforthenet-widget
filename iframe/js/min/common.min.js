window.addEventListener("message",function(a){if(a.data&&a.data.BFTN_WIDGET_MSG)switch(delete a.data.BFTN_WIDGET_MSG,a.data.HOST_NAME&&(host=a.data.HOST_NAME,delete a.data.HOST_NAME),a.data.requestType){case"putAnimation":trackLeaderboardStat({stat:"display_widget",data:a.data.modalAnimation}),animations[a.data.modalAnimation].init(a.data).start()}});var sanitize=function(a){return a=a.replace(/\</g,"&lt;"),a=a.replace(/javascript\:/gi,"java script -")},sendMessage=function(a,b){b||(b={}),b.requestType=a,b.BFTN_IFRAME_MSG=!0,parent.postMessage(b,"*")},trackLeaderboardStat=function(a){if(a||(a={}),a.stat||(a.stat="unknown"),a.data||(a.data=null),a.callback||(a.callback=function(){}),host){var b={campaign:"internetslowdown",stat:a.stat,data:a.data,host:host,session:session};$.ajax({url:"https://leaderboard.fightforthefuture.org/log",type:"post",dataType:"json",data:b,success:function(b){a.callback(b)}})}},guid=function(){var a=function(a){var b=(Math.random().toString(16)+"000000000").substr(2,8);return a?"-"+b.substr(0,4)+"-"+b.substr(4,4):b};return a()+a(!0)+a(!0)+a()};$(document).ready(function(){sendMessage("getAnimation"),$("#close").on("mousedown",function(a){a.preventDefault(),sendMessage("stop")})});var host=null,session=guid();